SPNRPC7 ;SD/WDE - Returns TIU doc titles from 8925.1;DEC 29, 2006
 ;;3.0;Spinal Cord Dysfunction;;OCT 01, 2006;Build 39
 ;
 ;INTEGRATION REFERENCES: 1782       TEXT INTEGRATION UTILITIES
 ;
 ;
 ;
LIST(RESULTS,CLASSNAM) ;Gets list of Progress Note Titles from 8925.1
 ; Input: Name of Document Class, typically SCI OUTCOMES
 ; Output: results - TIU titles under the Document Class
 S SPNCNT=0
 D NOTES^TIUSRVD(.SPNTEMP)  ;INTEGRATION REFERENCES: 1782
 S SPNSUB=0 F  S SPNSUB=$O(SPNTEMP(SPNSUB)) Q:(SPNSUB="")!('+SPNSUB)  D
 .S SPNDATA=$G(SPNTEMP(SPNSUB))
 .Q:SPNDATA=""
 .I $P(SPNDATA,U,2)="SCI FUNCTIONAL INDEPENDENCE MEASURE" D
 ..S SPNIEN=$P(SPNDATA,U,1) S SPNIEN=$P(SPNIEN,"i",2)
 ..S SPNCNT=SPNCNT+1 S RESULTS(SPNCNT)=$P(SPNDATA,U,2)_U_SPNIEN_"^EOL999"
 ..Q
 .I $P(SPNDATA,U,2)="SCI GENERAL NOTE" D
 ..S SPNIEN=$P(SPNDATA,U,1) S SPNIEN=$P(SPNIEN,"i",2)
 ..S SPNCNT=SPNCNT+1 S RESULTS(SPNCNT)=$P(SPNDATA,U,2)_U_SPNIEN_"^EOL999"
 ..Q
 .I $P(SPNDATA,U,2)="SCI CRAIG HANDICAP ASSESSMENT&REPORTING TECHNIQUE-SHORT FORM" D
 ..S SPNIEN=$P(SPNDATA,U,1) S SPNIEN=$P(SPNIEN,"i",2)
 ..S SPNCNT=SPNCNT+1 S RESULTS(SPNCNT)=$P(SPNDATA,U,2)_U_SPNIEN_"^EOL999"
 ..Q
 .I $P(SPNDATA,U,2)="SCI DIENER SATISFACTION WITH LIFE SCALE" D
 ..S SPNIEN=$P(SPNDATA,U,1) S SPNIEN=$P(SPNIEN,"i",2)
 ..S SPNCNT=SPNCNT+1 S RESULTS(SPNCNT)=$P(SPNDATA,U,2)_U_SPNIEN_"^EOL999"
 ..Q
 ;       
ZAP ;
 K SPNTEMP,SPNCNT,SPNIEN,SPNDATA,SPNSUB
 Q
COM ;
 ;===================================================================
 ;OLD OUTPUT BEFORE THE USE OF THE API
 ;THIS IS WHAT WE ARE LOOKING FOR AND THE FORMAT OF THE DATA.
 ;RESULTS(1)="SCI FUNCTIONAL INDEPENDENCE MEASURE^1644^EOL999"
 ;RESULTS(2)="SCI GENERAL NOTE^1645^EOL999"
 ;RESULTS(3)="SCI CRAIG HANDICAP ASSESSMENT&REPORTING TECHNIQUE-SHORT FORM^1646^EOL999"
 ;RESULTS(4)="SCI DIENER SATISFACTION WITH LIFE SCALE^1647^EOL999"
 ;
 ;====================================================================
 ;NEW OUT PUT WITH THE USE OF THE NOTES^TIUSRVD CALL
 ;====================================================================
 ;RESULTS(1)="SCI FUNCTIONAL INDEPENDENCE MEASURE^1644^EOL999"
 ;RESULTS(2)="SCI GENERAL NOTE^1645^EOL999"
 ;RESULTS(3)="SCI CRAIG HANDICAP ASSESSMENT&REPORTING TECHNIQUE-SHORT FORM^1646^EOL999"
 ;RESULTS(4)="SCI DIENER SATISFACTION WITH LIFE SCALE^1647^EOL999"
