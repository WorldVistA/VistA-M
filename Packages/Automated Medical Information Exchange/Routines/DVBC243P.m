DVBC243P ;ALB/BG - PATCH DVBA*2.7*243 POST-INSTALL ROUTINE; SEP 7, 2022@16:20 ; 1/18/23 2:01pm
 ;;2.7;AMIE;**243**;Apr 10, 1995;Build 13
 ; Per VHA Directive 6402 this routine should not be modified
 ; Reference to SUPPORTED PARAMETER TOOL ENTRY POINTS in ICR #2263
 Q
 ;
VUPDATE ; MINIMUM AND PREVIOUS CAPRI VERSION UPDATES
 N DVBVER
 D MES^XPDUTL("Patch DVBA*2.7*243 post install started")
 S DVBVER=$$ENXPAR("PKG","DVBAB CAPRI MINIMUM VERSION","CAPRI GUI V2.7*243.7*1*A*3230323*1.3*1.3")
 D UPDMSG("CAPRI MINIMUM VERSION",DVBVER)
 S DVBVER=$$ENXPAR("PKG","DVBAB CAPRI PREVIOUS VERSION","DVBA*2.7*242.8")
 D UPDMSG("DVBAB CAPRI PREVIOUS VERSION",DVBVER)
 D BMES^XPDUTL("Patch DVBA*2.7*243 post install finished")
 Q
 ;
ENXPAR(DVBENT,DVBPAR,DVBVAL) ;
 N DVBVER
 D EN^XPAR(DVBENT,DVBPAR,1,DVBVAL,.DVBVER)
 Q DVBVER
 ;
UPDMSG(DVBPAR,DVBVER) ;
 I DVBVER D
 . D BMES^XPDUTL(DVBPAR_" Update FAILURE.")
 . D MES^XPDUTL("  Failure reason: "_DVBVER)
 E  D
 . D BMES^XPDUTL(DVBPAR_" Updated Successfully")
 Q
