LREPIXDG ;ALB/TJ/SS - ICD DIAGNOSIS DESCRIPTION LOOK UP;23 Apr 2013  4:35 PM
 ;;5.2;LAB SERVICE;**421**;Sep 27, 1994;Build 48
 ;; 
 ;ICRs 
 ; 5679 - supported ($$IMPDATE^LEXU)
 ; 5747 - $$CSI^ICDEX, $$SD^ICDEX, $$SNAM^ICDEX supported by this IA
 ;
LRDSCR(LRDATE) I '($G(LRDATE,"")]"") D
 .N LRDATE D NOW^%DTC S LRDATE=X
 N LRICDIEN,LRDSCR S LRICDIEN=^TMP("DDS",$J,$P(DDS,U),DDS3FN,DA_","_DA(1)_",",.01,"D")
 S LRDSCR=$E($$SD^ICDEX(80,LRICDIEN,LRDATE),1,60) S:$P(LRDSCR,U,1)=-1 LRDSCR=""
 I LRDSCR="" D
 . S LRDATE=$$IMPDATE^LEXU("ICD")
 . S LRDSCR=$E($$SD^ICDEX(80,LRICDIEN,LRDATE),1,60) S:$P(LRDSCR,U,1)=-1 LRDSCR=""
 I LRDSCR="" D
 . S LRDATE=$$IMPDATE^LEXU("10D")
 . S LRDSCR=$E($$SD^ICDEX(80,LRICDIEN,LRDATE),1,60) S:$P(LRDSCR,U,1)=-1 LRDSCR=""
 N LRCHBTWN,LRCSIEN,LRCSNAM S LRCSIEN=$$CSI^ICDEX(80,LRICDIEN)
 S LRCSNAM=$$SNAM^ICDEX(LRCSIEN),LRCHBTWN=$S(LRCSIEN=1:" ",1:"")
 Q $P(LRCSNAM,"-",1,2)_LRCHBTWN_"  "_$$TITLE^XLFSTR(LRDSCR)
 ;
