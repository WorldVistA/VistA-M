ONCOPRT1 ;Hines OIFO/RVD - OncoTrax Reports ICD ;05/14/12
 ;;2.2;ONCOLOGY;**1,7**;Jul 31, 2013;Build 5
 ;This routine invokes Integration Agreement #3151 and #3990.
 ;
ICD ;check for particular ICD code.
 I SORT="[ONC DISEASE INDEX CASEFINDING]" D
 .S DIS(1)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"") I (CODE>139.99)&(CODE<208.93)"
 .S DIS(2)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"") I (CODE>208.99)&(CODE<209.30)"
 .S DIS(3)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=209.30"
 .S DIS(4)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"") I (CODE>209.30)&(CODE<209.37)"
 .S DIS(5)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"") I (CODE>209.69)&(CODE<209.80)"
 .S DIS(6)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"") I (CODE>224.99)&(CODE<226)"
 .S DIS(7)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=227.3"
 .S DIS(8)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=227.4"
 .S DIS(9)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=227.9"
 .S DIS(10)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=228.02"
 .S DIS(11)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=228.1"
 .S DIS(12)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"") I (CODE>229.99)&(CODE<235)"
 .S DIS(13)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""236.0"""
 .S DIS(14)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"") I (CODE>236.99)&(CODE<238)"
 .S DIS(15)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=238.4"
 .S DIS(16)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=238.6"
 .S DIS(17)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=238.7"
 .S DIS(18)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=238.71"
 .S DIS(19)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=238.72"
 .S DIS(20)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=238.73"
 .S DIS(21)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=238.74"
 .S DIS(22)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=238.75"
 .S DIS(23)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=238.76"
 .S DIS(24)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=238.77"
 .S DIS(25)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=238.79"
 .S DIS(26)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=239.6"
 .S DIS(27)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=239.7"
 .S DIS(28)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"") I (CODE>239.80)&(CODE<239.90)"
 .S DIS(29)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=273.2"
 .S DIS(30)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=273.3"
 .S DIS(31)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=288.3"
 .S DIS(32)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=795.06"
 .S DIS(33)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=795.16"
 .S DIS(34)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=795.76"
 .S DIS(35)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")[""V10"""
 .S DIS(36)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V12.41"""
 .S DIS(37)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"") I (CODE>258.01)&(CODE<258.04)"
 .S DIS(38)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=338.3"
 .S DIS(39)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=511.81"
 .S DIS(40)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=789.51"
 .S DIS(41)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""042."""
 .S DIS(42)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""079.4"""
 .S DIS(43)="S CODE=+$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"") I (CODE>79.49)&(CODE<79.60)"
 .S DIS(44)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"") I (CODE>209.9)&(CODE<230)"
 .S DIS(45)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"") I (CODE>234.9)&(CODE<236.7)"
 .S DIS(46)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"") I (CODE>237.9)&(CODE<240)"
 .S DIS(47)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=253.6"
 .S DIS(48)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=259.2"
 .S DIS(49)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""273.0"""
 .S DIS(50)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=273.1"
 .S DIS(51)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=273.9"
 .S DIS(52)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=275.42"
 .S DIS(53)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=277.88"
 .S DIS(54)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""279.00"""
 .S DIS(55)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"") I (CODE>279.01)&(CODE<279.07)"
 .S DIS(56)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""279.10"""
 .S DIS(57)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=279.12"
 .S DIS(58)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=279.13"
 .S DIS(59)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"") I (CODE>279.1)&(CODE<280)"
 .S DIS(60)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=284.81"
 .S DIS(61)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=284.89"
 .S DIS(62)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=285.22"
 .S DIS(63)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=285.3"
 .S DIS(64)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=288.03"
 .S DIS(65)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=289.83"
 .S DIS(66)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=323.81"
 .S DIS(67)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=379.59"
 .S DIS(68)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=528.01"
 .S DIS(69)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=686.01"
 .S DIS(70)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=695.89"
 .S DIS(71)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=701.2"
 .S DIS(72)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=710.3"
 .S DIS(73)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=710.4"
 .S DIS(74)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=785.6"
 .S DIS(75)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=790.93"
 .S DIS(76)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=795.8"
 .S DIS(77)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=795.81"
 .S DIS(78)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=795.82"
 .S DIS(79)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=795.89"
 .S DIS(80)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=999.31"
 .S DIS(81)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=999.81"
 .S DIS(82)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""E879.2"""
 .S DIS(83)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""E930.7"""
 .S DIS(84)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""E933.1"""
 .S DIS(85)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V07.3"""
 .S DIS(86)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V07.8"""
 .S DIS(87)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V12.72"""
 .S DIS(88)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V15.3"""
 .S DIS(89)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V42.81"""
 .S DIS(90)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V42.82"""
 .S DIS(91)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V51.0"""
 .S DIS(92)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V52.4"""
 .S DIS(93)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V54.2"""
 .S DIS(94)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V58.0"""
 .S DIS(95)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V58.1"""
 .S DIS(96)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V58.11"""
 .S DIS(97)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V58.12"""
 .S DIS(98)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V58.42"""
 .S DIS(99)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V66.1"""
 .S DIS(100)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V66.2"""
 .S DIS(101)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V67.1"""
 .S DIS(102)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V67.2"""
 .S DIS(103)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")[""V76"""
 .S DIS(104)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")[""V78"""
 .S DIS(105)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V82.71"""
 .S DIS(106)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V82.79"""
 .S DIS(107)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V82.89"""
 .S DIS(108)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V82.9"""
 .S DIS(109)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V84.01"""
 .S DIS(110)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V84.02"""
 .S DIS(111)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V84.03"""
 .S DIS(112)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V84.04"""
 .S DIS(113)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V84.09"""
 .S DIS(114)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V84.81"""
 .S DIS(115)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V86.0"""
 .S DIS(116)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V86.1"""
 .S DIS(117)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=""V87.41"""
 .S DIS(118)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=259.8"
 .S DIS(119)="I $$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01,""I"")=624.01"
 .;ICD10 Search Logic
 .S DIS(120)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01) I ($E(CODE)=""C"")"
 .S DIS(121)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01) I ((CODE=""D18.02"")!(CODE=""D18.1"")!(CODE=""D35.2"")!(CODE=""D35.4"")!(CODE=""D45"")!(CODE=""D47.2"")!(CODE=""D64.81""))"
 .S DIS(122)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01) I ((CODE=""D47.01"")!(CODE=""D47.3"")!(CODE=""D47.4"")!CODE=""D47.7"")!(CODE=""47.9"")!(CODE=""D49.6"")!(CODE=""D49.7"")!(CODE=""D49.7"")"
 .S DIS(123)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01) I ((CODE=""D70.1"")!(CODE=""D72.1"")!(CODE=""E34.0"")!(CODE=""E88.3"")!(CODE=""K22.711"")!(CODE=""K92.81"")!(CODE=""R18.0""))"
 .S DIS(124)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01) I ((CODE=""R53.0"")!(CODE=""T66"")!(CODE=""Y63.2"")!(CODE=""Y84.2"")!(CODE=""Z08"")!(CODE=""Z17.0"")!(CODE=""Z17.1""))"
 .S DIS(125)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01) I ((CODE=""Z42.1"")!(CODE=""Z48.290"")!(CODE=""Z51.0"")!(CODE=""Z51.5"")!(CODE=""Z51.89"")!(CODE=""Z86.03"")!(CODE=""Z92.21""))"
 .S DIS(126)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01) I ((CODE=""Z92.23"")!(CODE=""Z92.25"")!(CODE=""Z92.3"")!(CODE=""Z94.81"")!(CODE=""Z94.84""))"
 .S DIS(127)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01) I ($E(CODE)=""D""),(($E(CODE,2,7)>00)&($E(CODE,2,7)<09.9999))"
 .S DIS(128)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01) I ($E(CODE)=""D""),(($E(CODE,2,7)>42)&($E(CODE,2,7)<43.9999))"
 .S DIS(129)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01) I ($E(CODE)=""D""),(($E(CODE,2,7)>44.29999)&($E(CODE,2,7)<44.5555))"
 .S DIS(130)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01) I ($E(CODE)=""D""),(($E(CODE,2,7)>46)&($E(CODE,2,7)<46.9999))"
 .S DIS(131)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01) I ($E(CODE,1,5)=""D47.Z""),(($E(CODE,6,7)>0)&($E(CODE,6,7)<9999))"
 .S DIS(132)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01) I ($E(CODE)=""D""),(($E(CODE,2,7)>75.9999)&($E(CODE,2,7)<76.9999))"
 .S DIS(133)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01) I ($E(CODE)=""T""),(($E(CODE,2,7)>45.1)&($E(CODE,2,7)<45.1999))"
 .S DIS(134)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01) I ($E(CODE)=""Z""),(($E(CODE,2,7)>11.9999)&($E(CODE,2,7)<12.9999))"
 .S DIS(135)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01) I ($E(CODE)=""Z""),(($E(CODE,2,7)>40.0)&($E(CODE,2,7)<40.0999))"
 .S DIS(136)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01) I ($E(CODE)=""Z""),(($E(CODE,2,7)>51.1)&($E(CODE,2,7)<51.1999))"
 .S DIS(137)="S CODE=$$GET1^DIQ(80,$P($G(^AUPNVPOV(D0,0)),U,1),.01) I ($E(CODE)=""Z""),(($E(CODE,2,7)>85)&($E(CODE,2,7)<86.0199))"
 Q
